(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d88f556","chunk-739ba701","chunk-2d0bce55"],{"2a4d":function(t,e,n){"use strict";n.r(e),n.d(e,"crudOptions",(function(){return o}));var o={options:{height:"100%",maxHeight:"auto"},pageOptions:{compact:!0},searchOptions:{show:!1},columns:[{title:"创建时间",key:"createDate",type:"datetime",width:200},{title:"分组字段",key:"text"}],formGroup:{groups:{test:{title:"分组",icon:"el-icon-star-off",columns:["text"]}}},formOptions:{defaultSpan:12}}},"4e56":function(t,e,n){"use strict";n.r(e),n.d(e,"GetList",(function(){return a})),n.d(e,"AddObj",(function(){return d})),n.d(e,"UpdateObj",(function(){return r})),n.d(e,"DelObj",(function(){return i}));var o=n("f58c");function a(t){return Object(o["a"])({url:"/addi/page",method:"get",data:t})}function d(t){return Object(o["a"])({url:"/addi/add",method:"post",data:t})}function r(t){return Object(o["a"])({url:"/addi/update",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/addi/delete",method:"post",data:{id:t}})}},"7c6b":function(t,e,n){},"85da":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",{class:{"page-compact":t.crud.pageOptions.compact}},[n("template",{slot:"header"},[t._v(" 动态添加表单字段 "),n("example-helper",{attrs:{title:"自定义组件帮助说明"}},[n("div",[t._v(" 右下角查看源码 ")])])],1),n("d2-crud-x",{ref:"d2Crud",attrs:{columns:t.crud.columns,data:t.crud.list,rowHandle:t.crud.rowHandle,"edit-title":"修改","add-template":t.crud.addTemplate,"add-rules":t.crud.addRules,"edit-template":t.crud.editTemplate,"edit-rules":t.crud.editRules,"form-options":t.crud.formOptions,options:t.crud.options,loading:t.crud.loading,pagination:t.crud.pagination},on:{"pagination-change":t.handlePaginationChange,"dialog-open":t.handleDialogOpen,"row-edit":t.handleRowEdit,"row-add":t.handleRowAdd,"row-remove":t.handleRowRemove,"dialog-cancel":t.handleDialogCancel,"form-data-change":t.handleFormDataChange},scopedSlots:t._u([{key:"FormBodyAppendSlot",fn:function(e){return[n("div",{staticClass:"d2-mt-10"},[n("el-button",{on:{click:function(n){return t.addColumn(e)}}},[t._v("添加未分组字段")]),n("el-button",{on:{click:function(n){return t.addGroupColumn(e)}}},[t._v("添加分组字段")]),n("el-button",{on:{click:function(n){return t.addGroup(e)}}},[t._v("添加分组")]),n("el-button",{on:{click:function(n){return t.configText(e)}}},[t._v("修改字段配置")])],1)]}}])},[n("div",{attrs:{slot:"header"},slot:"header"},[n("crud-search",{ref:"search",attrs:{options:t.crud.searchOptions},on:{submit:t.handleSearch}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addRow}},[n("i",{staticClass:"el-icon-plus"}),t._v(" 新增")]),n("crud-toolbar",{attrs:{search:t.crud.searchOptions.show,compact:t.crud.pageOptions.compact,columns:t.crud.columns},on:{"update:search":function(e){return t.$set(t.crud.searchOptions,"show",e)},"update:compact":function(e){return t.$set(t.crud.pageOptions,"compact",e)},refresh:function(e){return t.doRefresh()},"columns-filter-changed":t.handleColumnsFilterChanged}})],1)])],2)},a=[],d=n("4e56"),r=n("2a4d"),i=n("1fbf"),c={name:"formAddi",components:{},mixins:[i["d2CrudPlus"].crud],data:function(){return{}},methods:{reComputeCrudHeight:function(){},getCrudOptions:function(){return r["crudOptions"]},pageRequest:function(t){return Object(d["GetList"])(t)},addRequest:function(t){return Object(d["AddObj"])(t)},updateRequest:function(t){return Object(d["UpdateObj"])(t)},delRequest:function(t){return Object(d["DelObj"])(t.id)},addColumn:function(t){var e="add"+Math.floor(1e3*Math.random()),n={title:"动态添加",ket:e,component:{name:"dict-select",props:{dict:{url:"/dicts/OpenStatusEnum"}},span:12}};this.$set(this.getEditFormTemplate(),e,n),this.$set(this.getEditForm(),e,void 0),console.log("add",this.getEditFormTemplate(),this.getEditForm())},addGroup:function(t){var e="add"+Math.floor(1e3*Math.random()),n="group"+Math.floor(1e3*Math.random()),o={title:"动态添加分组",columns:{}};o.columns[n]={title:"动态添加",ket:e,component:{name:"dict-select",props:{dict:{url:"/dicts/OpenStatusEnum"}},span:12}};var a=this.getEditFormTemplateGroup();this.$set(a,n,o),this.$set(this.getEditForm(),e,void 0),this.getD2Crud().formGroupsActive.push(n),console.log("add group:",this.getEditFormTemplateGroup(),this.getEditForm())},addGroupColumn:function(t){var e="add"+Math.floor(1e3*Math.random()),n={title:"动态添加",ket:e,component:{name:"dict-select",props:{dict:{url:"/dicts/OpenStatusEnum"}},span:12}},o=this.getEditFormTemplateGroup("test");this.$set(o,e,n),this.$set(this.getEditForm(),e,void 0),console.log("add",this.getEditFormTemplate(),this.getEditForm())},configText:function(t){var e=this.getEditFormTemplate("text");e.component={name:"dict-select",props:{dict:{value:"value",label:"label",data:[{value:"1",label:"打开"},{value:"0",label:"关闭"}]}},span:12}}}},u=c,s=(n("a074"),n("2877")),l=Object(s["a"])(u,o,a,!1,null,null,null);e["default"]=l.exports},a074:function(t,e,n){"use strict";var o=n("7c6b"),a=n.n(o);a.a},f58c:function(t,e,n){"use strict";var o=n("22ce"),a=o["c"];e["a"]=a}}]);