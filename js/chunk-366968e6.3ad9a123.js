(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-366968e6","chunk-73b19a99","chunk-2d0e1b28"],{"7c17":function(e,t,n){"use strict";n.r(t),n.d(t,"crudOptions",(function(){return u}));var i=n("6e85"),r=n.n(i),a=n("be16");function c(e){return null==e&&(e=new Date),e.setHours(12),e.setMinutes(0),e.setSeconds(0),e}function o(e,t){e.setTime(e.getTime()+864e5*t)}var u={columns:[{title:"id",key:"id",sortable:!0,search:{disabled:!0},align:"center",width:"80",form:{addDisabled:!0,editDisabled:!0,rules:[{required:!0,message:"请输入id"}]}},{title:"添加时间",key:"createDate",sortable:!0,search:{key:"create_date",disabled:!0},align:"center",type:"datetime",width:"160",form:{addDisabled:!0,editDisabled:!0,rules:[{required:!0,message:"请输入创建时间"}]}},{title:"手机号",key:"mobileValue",sortable:!0,align:"center",search:{disabled:!1,width:"260px"},type:"phoneNumber",form:{editDisabled:!0,rules:[{required:!0,message:"请输入手机号"},{validator:a["mobileValidator"],message:"手机号不正确"}]},valueBuilder:function(e){e.mobileValue={phoneNumber:e.mobile,callingCode:e.telAreaCode}},valueResolve:function(e){null!=e.mobileValue&&(e.mobile=e.mobileValue.phoneNumber,e.telAreaCode=e.mobileValue.callingCode)}},{title:"客户姓名",key:"guestName",sortable:!0,search:{disabled:!1},form:{rules:[{required:!1,message:"请输入客户姓名"}]}},{title:"房间",key:"roomId",sortable:!0,search:{disabled:!1,component:{props:{clearable:!0}}},align:"center",type:"select",form:{editDisabled:!0,rules:[{required:!0,message:"请选择房间"}],props:{filterable:!0}},dict:{url:"/hotel/room/options"}},{title:"入住时间",key:"checkInRange",sortable:!0,width:260,type:"datetimerange",search:{disabled:!0},align:"center",form:{rules:[{required:!0,message:"请输入入住时间"}],component:{span:12,"time-arrow-control":!0,"default-time":["12:00:00","12:00:00"],"picker-options":{shortcuts:[{text:"今天一晚",onClick:function(e){var t=new Date,n=c();o(n,1),e.$emit("pick",[t,n])}},{text:"今天两晚",onClick:function(e){var t=new Date,n=c();o(n,2),e.$emit("pick",[t,n])}},{text:"今天三晚",onClick:function(e){var t=new Date,n=c();o(n,3),e.$emit("pick",[t,n])}},{text:"今天四晚",onClick:function(e){var t=new Date,n=c();o(n,4),e.$emit("pick",[t,n])}},{text:"明天一晚",onClick:function(e){var t=c(),n=c();o(t,1),o(n,2),e.$emit("pick",[t,n])}},{text:"明天两晚",onClick:function(e){var t=new Date,n=new Date;o(t,1),o(n,3),e.$emit("pick",[t,n])}},{text:"明天三晚",onClick:function(e){var t=new Date,n=new Date;o(t,1),o(n,3),e.$emit("pick",[t,n])}}]}}},formatter:function(e,t,n,i){return r()(e.checkInTime).format("YYYY-MM-DD HH:mm")+"至"+r()(e.checkOutTime).format("YYYY-MM-DD HH:mm")}},{title:"天数",key:"dayCount",sortable:!0,align:"center",search:{disabled:!0},form:{disabled:!0,rules:[{required:!0,message:"请输入天数"}]}},{title:"备注",key:"remark",columnName:"remark",sortable:!0,search:{name:"remark",disabled:!0},form:{rules:[{required:!1,message:"请输入备注"}]}}],options:{selectionRow:!0}}},c9e4:function(e,t,n){"use strict";n.r(t);var i=n("7c17"),r=n("f055"),a=n("1fbf");t["default"]={mixins:[a["d2CrudPlus"].crud],data:function(){return{}},created:function(){this.initColumns(),this.afterInit()},methods:{afterInit:function(){},getCrudOptions:function(){return i["crudOptions"]},addRequest:function(e){return this.beforeRequest(e),Object(r["AddObj"])(e)},updateRequest:function(e){return this.beforeRequest(e),Object(r["UpdateObj"])(e)},beforeRequest:function(e){var t=e.checkInRange;null!=t&&t.length>=2&&(e.checkInTime=t[0].getTime(),e.checkOutTime=t[1].getTime())},delRequest:function(e){return Object(r["DelObj"])(e.id)},handleDialogOpen:function(e){null!=e.row&&(e.row.checkInRange=[new Date(e.row.checkInTime),new Date(e.row.checkOutTime)])},doCheckOut:function(e){var t=this;this.$confirm("确定设置该客户离店吗？","离店",{type:"warning"}).then((function(){return Object(r["DoCheckOut"])(e.id)})).then((function(){t.doRefresh()})).catch((function(){}))}}}},f055:function(e,t,n){"use strict";n.r(t),n.d(t,"GetList",(function(){return r})),n.d(t,"AddObj",(function(){return a})),n.d(t,"UpdateObj",(function(){return c})),n.d(t,"DelObj",(function(){return o})),n.d(t,"DoCheckOut",(function(){return u}));var i=n("f58c");function r(e){return Object(i["a"])({url:"/hotel/checkin/page",method:"get",params:e})}function a(e){return Object(i["a"])({url:"/hotel/checkin/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/hotel/checkin/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/hotel/checkin/delete",method:"post",params:{id:e}})}function u(e){return Object(i["a"])({url:"/hotel/checkin/checkout",method:"post",params:{id:e}})}},f58c:function(e,t,n){"use strict";var i=n("22ce"),r=i["c"];t["a"]=r}}]);