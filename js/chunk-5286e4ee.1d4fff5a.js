(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5286e4ee","chunk-73b133aa","chunk-2d0cfae4"],{3308:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[r("template",{slot:"header"},[e._v("文件上传 "),r("example-helper",{attrs:{title:"帮助"}},[r("div",[r("link-button",{attrs:{href:"http://greper.gitee.io/d2-crud-plus/guide/extends/file-uploader.html"}},[e._v("文件上传")]),r("link-button",{attrs:{href:"http://greper.gitee.io/d2-crud-plus/guide/extends/avatar-cropper.html"}},[e._v("裁剪上传")]),r("link-button",{attrs:{href:"http://greper.gitee.io/d2-crud-plus/guide/extends/uploader.html"}},[e._v("上传lib")])],1)])],1),r("d2-crud-x",{ref:"d2Crud",attrs:{columns:e.crud.columns,data:e.crud.list,rowHandle:e.crud.rowHandle,"edit-title":"修改","add-template":e.crud.addTemplate,"add-rules":e.crud.addRules,"edit-template":e.crud.editTemplate,"edit-rules":e.crud.editRules,"form-options":e.crud.formOptions,options:e.crud.options,loading:e.crud.loading,pagination:e.crud.pagination},on:{"pagination-change":e.handlePaginationChange,"dialog-open":e.handleDialogOpen,"row-edit":e.handleRowEdit,"row-add":e.handleRowAdd,"row-remove":e.handleRowRemove,"dialog-cancel":e.handleDialogCancel,"form-data-change":e.handleFormDataChange}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addRow}},[r("i",{staticClass:"el-icon-plus"}),e._v(" 新增")]),r("crud-toolbar",{attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}})],1),r("template",{slot:"fileHelperSlot"},[r("el-alert",{staticStyle:{"line-height":"2"},attrs:{type:"warning"}},[r("el-tag",{attrs:{size:"mini"}},[e._v("alioss")]),e._v("方式暂不支持进度条，不支持中文等特殊字符文件名"),r("br")],1)],1)],2)],2)},n=[],o=r("e2f4"),i=r("656e"),l=r("1fbf"),u={name:"formUploader",components:{},mixins:[l["d2CrudPlus"].crud],data:function(){return{}},computed:{helperHeight:function(){var e=document.documentElement.clientHeight-100;return e+"px"}},methods:{getCrudOptions:function(){return Object(i["crudOptions"])(this)},pageRequest:function(e){return Object(o["GetList"])(e)},addRequest:function(e){return Object(o["AddObj"])(e)},updateRequest:function(e){return Object(o["UpdateObj"])(e)},delRequest:function(e){return Object(o["DelObj"])(e.id)}}},d=u,c=r("2877"),p=Object(c["a"])(d,a,n,!1,null,null,null);t["default"]=p.exports},"656e":function(e,t,r){"use strict";r.r(t),r.d(t,"crudOptions",(function(){return n}));var a=r("c276"),n=function(e){return{options:{height:"100%"},searchOptions:{disabled:!0,show:null},columns:[{title:"头像",key:"avatar1",type:"avatar-uploader",width:120,component:{props:{error:!1}}},{title:"加载失败url",key:"avatar_error1",type:"avatar-uploader",width:120,component:{props:{error:"http://greper.veryreader.com/extends/error.jpg"}}},{title:"加载失败slot",key:"avatar_error2",type:"avatar-uploader",width:120,component:{props:{error:"slot"},slots:{error:function(e,t){return e("i",{class:"el-icon-picture-outline",style:"font-size:20px"})}}}},{title:"获取md5",key:"avatar",type:"avatar-uploader",width:120,form:{component:{props:{returnType:"object"}},valueChange:function(e,t,r){null!=t&&(r.avatarSize=t.size,r.avatarMd5=t.md5),console.log("avatar value Changed:",e,t,r)},helper:"上传后，右边将获取到头像大小和md5值，文件上传组件不支持裁剪，如需裁剪，请参考头像裁剪上传组件"},valueResolve:function(e){null!=e.avatar&&null!=e.avatar.url&&(e.avatar=e.avatar.url)}},{title:"头像文件大小",key:"avatarSize",width:120},{title:"头像文件md5",key:"avatarMd5",width:200},{title:"照片墙",key:"image",type:"image-uploader",width:150,align:"left",form:{component:{props:{elProps:{multiple:!0,limit:5},sizeLimit:51200},span:24},helper:"默认腾讯云cos上传,限制文件大小不能超过50k"}},{title:"图片列表",key:"image2",type:"image-uploader",width:150,align:"left",form:{component:{props:{elProps:{multiple:!0,listType:"picture",limit:5}}}},component:{props:{buildUrl:function(e){return e+"?token="+a["a"].cookies.get("token")}}}},{title:"文件",key:"file",sortable:!0,type:"file-uploader",align:"left",form:{component:{props:{elProps:{onPreview:function(e){window.open(e.url)},limit:0},uploader:{custom:{keepName:!0}}},span:20},helper:{slot:!0}}}]}}},e2f4:function(e,t,r){"use strict";r.r(t),r.d(t,"GetList",(function(){return n})),r.d(t,"AddObj",(function(){return o})),r.d(t,"UpdateObj",(function(){return i})),r.d(t,"DelObj",(function(){return l}));var a=r("f58c");function n(e){return Object(a["a"])({url:"/upload/page",method:"get",data:e})}function o(e){return Object(a["a"])({url:"/upload/add",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/upload/update",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/upload/delete",method:"post",data:{id:e}})}},f58c:function(e,t,r){"use strict";var a=r("22ce"),n=a["c"];t["a"]=n}}]);