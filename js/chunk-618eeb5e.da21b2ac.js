(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-618eeb5e","chunk-739a4db5","chunk-739a02a1","chunk-2d2226fe"],{"1f4e":function(e,t,n){"use strict";n.r(t),n.d(t,"GetList",(function(){return r})),n.d(t,"AddObj",(function(){return o})),n.d(t,"UpdateObj",(function(){return c})),n.d(t,"DelObj",(function(){return u})),n.d(t,"BatchDel",(function(){return d}));var a=n("f58c");function r(e){return Object(a["a"])({url:"/column/page",method:"get",data:e})}function o(e){return Object(a["a"])({url:"/column/add",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/column/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/column/delete",method:"post",data:{id:e}})}function d(e){return Object(a["a"])({url:"/column/batchDelete",method:"post",data:{ids:e}})}},"234e":function(e,t,n){"use strict";n.r(t),n.d(t,"crudOptions",(function(){return r}));n("d81d"),n("a9e3"),n("159b");var a=n("f58c"),r={rowHandle:{width:300,custom:[{text:" 自定义",type:"warning",size:"small",emit:"customHandleBtn",icon:"el-icon-s-flag"}],fixed:"right"},pageOptions:{compact:!0},options:{height:"100%",highlightCurrentRow:!0,rowKey:"id",lazy:!0,load:function(e,t,n){Object(a["a"])({url:"/column/children",method:"get",data:{id:e.id}}).then((function(e){console.log("懒加载数据",e.data),n(e.data)}))},showSummary:!0,summaryMethod:function(e){var t=e.columns,n=e.data,a=[];return t.forEach((function(e,t){if(0!==t){var r=n.map((function(t){return Number(t[e.property])}));r.every((function(e){return isNaN(e)}))?a[t]="":(a[t]=r.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0),a[t]+=" 元")}else a[t]="总价"})),a}},indexRow:{title:"序号",align:"center"},selectionRow:{align:"center",width:100},expandRow:{title:"展开",align:"center"},columns:[{title:"数据列",key:"data",sortable:!0,width:200},{title:"时间",key:"time",type:"datetime",sortable:!0,width:160},{title:"地区",key:"province",sortable:!0,search:{key:"province",disabled:!1},type:"select",form:{rules:[{required:!0,message:"请选择地区"}],component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{data:[{value:"sz",label:"深圳"},{value:"gz",label:"广州"},{value:"wh",label:"武汉"},{value:"sh",label:"上海"}]},width:300},{title:"金额(元)",key:"amount",sortable:!0}]}},a2d9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[n("template",{slot:"header"},[e._v("特殊列 "),n("example-helper",{attrs:{title:"帮助"}},[n("h4",[e._v("请点击右下角查看本页源码")])])],1),n("d2-crud-x",{ref:"d2Crud",attrs:{columns:e.crud.columns,data:e.crud.list,rowHandle:e.crud.rowHandle,"edit-title":"修改","add-template":e.crud.addTemplate,"add-rules":e.crud.addRules,"edit-template":e.crud.editTemplate,"edit-rules":e.crud.editRules,"form-options":e.crud.formOptions,options:e.crud.options,loading:e.crud.loading,indexRow:e.crud.indexRow,selectionRow:e.crud.selectionRow,expandRow:e.crud.expandRow,pagination:e.crud.pagination},on:{"pagination-change":e.handlePaginationChange,"dialog-open":e.handleDialogOpen,"row-edit":e.handleRowEdit,"row-add":e.handleRowAdd,"row-remove":e.handleRowRemove,"dialog-cancel":e.handleDialogCancel,"form-data-change":e.handleFormDataChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange,customHandleBtn:e.customHandleBtnHandle},scopedSlots:e._u([{key:"expandSlot",fn:function(t){return[e._v(" 这里显示行展开数据:"+e._s(t.row.data)+" ")]}}])},[n("div",{attrs:{slot:"header"},slot:"header"},[n("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),n("el-button-group",[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addRow}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新增")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.batchDelete}},[n("i",{staticClass:"el-icon-delete"}),e._v(" 批量删除")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.checkSecond}},[e._v("选中第一、二行")])],1),n("crud-toolbar",{attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}})],1)])],2)},r=[],o=n("1f4e"),c=n("234e"),u=n("1fbf"),d=n("cf38"),l={name:"formColumn",components:{},mixins:[u["d2CrudPlus"].crud],data:function(){return{helper:d["default"],multipleSelection:void 0}},computed:{},mounted:function(){var e=this;setTimeout((function(){e.getD2CrudTable().store.scheduleLayout()}),1)},methods:{getCrudOptions:function(){return c["crudOptions"]},pageRequest:function(e){return Object(o["GetList"])(e)},addRequest:function(e){return Object(o["AddObj"])(e)},updateRequest:function(e){return Object(o["UpdateObj"])(e)},delRequest:function(e){var t=this;return Object(o["DelObj"])(e.id).then((function(n){var a=t.getD2Crud().$refs.elTable.store.states.treeData;if(null!=a){var r=a[e.parentId];null!=r&&(r.loaded=!1,r.expanded=!1)}return n}))},batchDelRequest:function(e){return Object(o["BatchDel"])(e)},handleCurrentChange:function(e,t){this.$message("单选"+e.data)},customHandleBtnHandle:function(e){e.index;var t=e.row;this.$message("自定义操作按钮："+t.data)},checkSecond:function(){this.getD2CrudTable().toggleRowSelection(this.getD2CrudTableData()[0]),this.getD2Crud().$refs.elTable.toggleRowSelection(this.getD2Crud().d2CrudData[1])}}},i=l,s=n("2877"),h=Object(s["a"])(i,a,r,!1,null,null,null);t["default"]=h.exports},cf38:function(e,t,n){"use strict";n.r(t),t["default"]={init:"\n  ",crud:"\n",template:"\n  "}},f58c:function(e,t,n){"use strict";var a=n("22ce"),r=a["c"];t["a"]=r}}]);